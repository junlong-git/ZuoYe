<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="../js/vue.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="app">
			<table border="" cellspacing="" cellpadding="">
				<tr>
				<th>学号</th>
				<th>姓名</th>
				<th>性别</th>
				<th>籍贯</th>
				<th>联系方式</th>
				<th @click="ageSort">年龄<span v-show="sortType && sortInit">↓</span><span v-show="!sortType && sortInit">↑</span></th>
			</tr>
			<tr v-for="(item,index) in stuList">
				<td>{{item.id}}</td>
				<td>{{item.nama}}</td>
				<td>{{item.sex}}</td>
				<td>{{item.jiguan}}</td>
				<td>{{item.phone}}</td>
				<td>{{item.age}}</td>
			</tr>
			</table> 
			
		</div>
		<script type="text/javascript">
			var vm = new Vue({
				el:"#app",
				data:{
					stu:'',
					stuList:[
						{"id":1,"nama":"老大","sex":"男","jiguan":"青海","phone":123456,"age":23},
						{"id":2,"nama":"老二","sex":"男","jiguan":"青海","phone":123456,"age":21},
						{"id":3,"nama":"老三","sex":"男","jiguan":"青海","phone":123456,"age":19},
						{"id":4,"nama":"老四","sex":"男","jiguan":"青海","phone":123456,"age":17},
						{"id":5,"nama":"老五","sex":"男","jiguan":"青海","phone":123456,"age":15},
					],
					sortType:true,
					sortInit:false,
					searchMethod:[
						{"id":1,"nama":"老大","sex":"男","jiguan":"青海","phone":123456,"age":23},
						{"id":2,"nama":"老二","sex":"男","jiguan":"青海","phone":123456,"age":21},
						{"id":3,"nama":"老三","sex":"男","jiguan":"青海","phone":123456,"age":19},
						{"id":4,"nama":"老四","sex":"男","jiguan":"青海","phone":123456,"age":17},
						{"id":5,"nama":"老五","sex":"男","jiguan":"青海","phone":123456,"age":15},
					]
				},
				methods:{
					search:function(){
							this.searchMethod = this.stuList.filter((item)=>{
								return item.name.match(this.stu);
							});
					
						
					},
					ageSort:function(){
						this.sortInit = true;
						if(this.sortType){
							this.stuList.sort((a,b)=>{
								return a.age - b.age;
							})
						}else{
							this.stuList.sort((a,b)=>{
								return b.age - a.age;
							})
						}
						//排序的状态需要取反
						this.sortType = !this.sortType;
					}
				}
			})
		</script>
	</body>
</html>
